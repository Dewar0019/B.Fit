<template name="exercises">
	{{#if currentUser}}
	
		{{#contentFor "headerButtonLeft"}}
			{{>ionNavBackButton path="index"}}
		{{/contentFor}}

		{{#contentFor "headerTitle"}}
			<h1 class="title">Add Exercises to {{routineName}}</h1>
		{{/contentFor}}

		{{#ionView}}
			  {{#ionContent}}
			  <h1> Current Exercises </h1>
			  {{ > searchBox}}

			 {{#if startExercise}}
			  <button type = "submit" class="button button-large button-positive" id="startWorkout"> Start Workout </button>
			{{/if}}
					{{#ionList}}

					<!-- tab bar -->
			<div id="viewMode" class="tabs-striped tabs-top">	
		    	<div class="tabs">
		      		<a id="viewAdd" class="tab-item active" href="#">Add</a>
					<a id="viewEdit" class="tab-item" href="#">Edit</a>
	    		</div>
	  		</div>


			{{#if addOrEditForm}}
			

					<div id="exercisesInRoutine">
						{{#each getExercises}}      
							{{> addExercise}}
						{{/each}}
					</div>


				{{else}}

					<div id="exercisesInRoutine">
						{{#each getExercises}}      
							{{> addExercise}}
						{{/each}}
					</div>

				{{/if}}

					{{/ionList}}
				{{/ionContent}}
			{{/ionView}}

		{{else}}

			{{#ionView}}
				{{#ionContent}}
					
					<img id="logo" src="images/logo.png" width="300" height="300">
					
					{{> atForm}}

				{{/ionContent}}
			{{/ionView}}

		{{/if}}
</template>

<template name="searchBox">
    {{> esInput index="exercises" placeholder="Search..." }}

    <ul>
        {{#esEach index="exercises"}}
        {{#ionItem path="exercisesEdit" _id="{{_id}}"  buttonRight=true avatar=true}}	
            <li>{{Name}}</li>
        {{/ionItem}}
        {{/esEach}}
    </ul>
</template>


<template name= "addExercise">
{{#ionItem path="exercisesEdit" _id="{{_id}}"  buttonRight=true avatar=true}}	
	<div class="selectedExercise">
		<h2 >{{Name}}</h2>	
		<p> Category: {{Type}}</p>
	</div>
	{{/ionItem}}
</template>