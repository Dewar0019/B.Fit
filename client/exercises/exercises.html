<template name="exercises">
	{{#if currentUser}}

		{{#contentFor "headerButtonLeft"}}
			{{>ionNavBackButton path="index"}}
		{{/contentFor}}

		{{#contentFor "headerTitle"}}
			<h1 class="title">Add Exercises to {{routineName}}</h1>
		{{/contentFor}}

		{{#ionView}}
			  {{#ionContent}}
			  <div class="card" id="cardback">
			  	<center>
			  	<h3>Search for the exercises and edit the content...</h3>
			  	</center>
			  </div>
			  {{ > searchBox}}

			 {{#if startExercise}}
			 <center>
			  <button type = "submit" class="button button-positive" id="startWorkout"> Start Workout </button>
			 </center>
			{{/if}}
					{{#ionList}}

					<!-- tab bar -->
			<div id="viewMode" class="tabs-striped tabs-top">
		    	<div class="tabs">
		      		<a id="viewAddStrength" class="tab-item active" href="#">Strength</a>
		      		<a id="viewAddCardio" class="tab-item" href="#">Cardio</a>
					<a id="viewEdit" class="tab-item" href="#">Edit</a>
	    		</div>
	  		</div>


<!-- if editing page -->
	{{#if editOrNot}}

		<div id="exercisesInRoutine">
			{{#each exerciseList2}}
				{{> listExercises2}}
			{{/each}}
		</div>
	{{else}}
	<!-- strength -->
		{{#if strengthOrCardioForm}}

				<div id="exercisesInRoutine">
					{{#each getExercises}}
						{{> addExercise}}
					{{/each}}
				</div>
				<!-- cardio -->
				{{else}}
				<div id="exercisesInRoutine">
						{{#each getCardio}}
							{{> addCardio}}
						{{/each}}
					</div>

				{{/if}}
				{{/if}}

					{{/ionList}}
				{{/ionContent}}
			{{/ionView}}

		{{else}}
		<!-- login -->
			{{#ionView}}
				{{#ionContent}}

					<img id="logo" src="images/logo.png" width="300" height="300">

					{{> atForm}}

				{{/ionContent}}
			{{/ionView}}

		{{/if}}
</template>

<template name="searchBox">
    {{> esInput index="exercises" placeholder="Search..." }}

    <ul>
        {{#esEach index="exercises"}}
        {{#ionItem path="exercisesEdit" _id="{{_id}}"  buttonRight=true avatar=true}}
            <li>{{Name}}</li>
        {{/ionItem}}
        {{/esEach}}
    </ul>
</template>

<!-- strength -->
<template name= "addExercise">
{{#ionItem path="exercisesEdit" _id="{{_id}}"  buttonRight=true avatar=true strengthOrCardioForm=true editOrNot = false }}
	<div class="selectedExercise">
		<h2 >{{Name}}</h2>
		<p> Category: {{Type}}</p>
	</div>
	{{/ionItem}}
</template>
<!-- cardio -->
<template name= "addCardio">
{{#ionItem path="exercisesEdit" _id="{{_id}}"  buttonRight=true avatar=true strengthOrCardioForm=false editOrNot = false}}
	<div class="selectedExercise">
		<h2 >{{Name}}</h2>
		<p> Category: {{Type}}</p>
	</div>
	{{/ionItem}}
</template>
<!-- edit -->
<template name= "listExercises2">
	{{#ionItem path="exercisesEdit" _id="{{_id}}"  buttonRight=true avatar=true strengthOrCardioForm=false editOrNot=true showExerciseList2=true}}
	<div class="selectedExercise">
		<h2 >{{Name}}</h2>
		<p> Category: {{Type}}</p>
		<p>{{Sets}} sets {{Reps}} reps</p>
		<p>{{Weight}} lbs </p>

	</div>
	<br><a href="#" class="button icon remove">Remove</a>
	{{/ionItem}}
</template>
